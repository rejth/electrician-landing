(()=>{"use strict";function e(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r,o,a,l;a=document.querySelector(".modal-callback"),l=document.querySelector(".modal-overlay"),document.addEventListener("click",(function(e){e.preventDefault(),(e.target.matches(".callback-btn")||e.target.closest(".mob-menu-btn")||e.target.matches(".button-services"))&&(a.style.display="block",l.style.display="block"),(e.target.closest(".modal-close")||e.target.matches(".modal-overlay"))&&(a.style.display="none",l.style.display="none")})),r=document.querySelector(".up"),o=document.querySelector(".services-section"),document.addEventListener("click",(function(e){var t,n,r,o;e.preventDefault(),e.target.matches(".top-menu>ul>li>a")&&(t=e.target.getAttribute("href"),n=document.querySelector(t),r=document.querySelector(".header").offsetHeight,o=n.getBoundingClientRect().top-r,window.scrollBy({top:o,behavior:"smooth"})),e.target.matches(".up")&&document.querySelector(".main-wrapper").scrollIntoView({behavior:"smooth",block:"start"})})),window.addEventListener("scroll",(function(){0===document.documentElement.scrollTop&&(r.style.visibility="hidden"),document.documentElement.scrollTop+300>o.getBoundingClientRect().top&&(r.style.visibility="visible")})),function(n){var r=document.createElement("div"),o=document.querySelector(".modal-callback"),a=document.querySelector(".modal-overlay"),l=document.getElementById(n);console.log(l);var i=[].concat(e(document.querySelectorAll("#".concat(n,">.form-group input"))),e(document.querySelectorAll("#".concat(n,">.form-group textarea"))));l.addEventListener("submit",(function(e){e.preventDefault(),l.append(r),r.textContent="Загрузка...";var n,c,u,s={},d=function(e,n){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=t(e))){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,i=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,l=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw l}}}}(new FormData(l));try{for(d.s();!(n=d.n()).done;){var m=(c=n.value,u=2,function(e){if(Array.isArray(e))return e}(c)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}}(c,u)||t(c,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=m[0],f=m[1];s[y]=f}}catch(e){d.e(e)}finally{d.f()}(function(e){return fetch("../server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})(s).then((function(e){if(200!==e.status)throw new Error("Response status code is not 200");r.textContent="Спасибо! Мы скоро с вами свяжемся!"})).catch((function(e){r.textContent="Что-то пошло не так...",console.error(e)})).finally((function(){i.forEach((function(e){return e.value=""})),setTimeout((function(){return r.remove()}),3e3),setTimeout((function(){o.style.display="none",a.style.display="none"}),5e3)}))})),l.addEventListener("input",(function(e){var t=e.target;t.matches('input[name="tel"]')&&(t.setAttribute("pattern","^[0-9+]{11,12}$"),t.value=t.value.replace(/[^\d+]/g,"")),t.matches('input[name="fio"]')&&(t.setAttribute("pattern","[А-Яа-яЁё-]{2,25}"),t.value=t.value.replace(/[^А-Яа-яЁё\s-]|/g,"")),t.matches('textarea[name="message"]')&&(t.setAttribute("type","text"),t.value=t.value.replace(/[^А-Яа-яЁё\s().,!?'";:-]/g,""))}))}("form-callback")})();