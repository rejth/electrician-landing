(()=>{"use strict";function t(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||e(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){if(t){if("string"==typeof t)return n(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}const o=function(n){var o=document.createElement("div"),r=document.getElementById(n),i=[].concat(t(document.querySelectorAll("#".concat(n,">.form-group input"))),t(document.querySelectorAll("#".concat(n,">.form-group textarea"))));r.addEventListener("submit",(function(t){t.preventDefault(),r.append(o),o.textContent="Загрузка...";var n,s,a,l={},c=function(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=e(t))){o&&(t=o);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return a=t.done,t},e:function(t){l=!0,s=t},f:function(){try{a||null==o.return||o.return()}finally{if(l)throw s}}}}(new FormData(r));try{for(c.s();!(n=c.n()).done;){var u=(s=n.value,a=2,function(t){if(Array.isArray(t))return t}(s)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==a.return||a.return()}finally{if(r)throw i}}return n}}(s,a)||e(s,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0],f=u[1];l[d]=f}}catch(t){c.e(t)}finally{c.f()}(function(t){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"})})(l).then((function(t){if(200!==t.status)throw new Error("Response status code is not 200");o.textContent="Спасибо! Мы скоро с вами свяжемся!"})).catch((function(t){o.textContent="Что-то пошло не так...",console.error(t)})).finally((function(){i.forEach((function(t){return t.value=""})),setTimeout((function(){return o.remove()}),4e3)}))})),r.addEventListener("input",(function(t){var e=t.target;e.matches('input[name="tel"]')&&(e.setAttribute("pattern","^[0-9+]{11,12}$"),e.value=e.value.replace(/[^\d+]/g,"")),e.matches('input[name="fio"]')&&(e.setAttribute("pattern","[А-Яа-яЁё\\s]{2,25}"),e.value=e.value.replace(/[^А-Яа-яЁё/\s-]|/g,"")),e.matches('textarea[name="message"]')&&(e.setAttribute("type","text"),e.value=e.value.replace(/[^А-Яа-яЁё\s().,!?'";:-]/g,""))}))};function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function i(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var l,c,u,d,f,m,y,h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.servicesMain=document.querySelector(".services-elements"),this.carouselWrapper=document.querySelector(".services-carousel"),this.slides=this.carouselWrapper.children,this.prev=document.querySelector(".services-arrow .arrow-left"),this.next=document.querySelector(".services-arrow .arrow-right"),this.slidesToShow=3,this.options={position:0,widthSlide:100/Math.floor(this.slidesToShow),infinity:1/0,maxPosition:this.slides.length-this.slidesToShow},this.responsive=[{breakpoint:992,slideToShow:2},{breakpoint:768,slideToShow:1}]}var e,n;return e=t,(n=[{key:"init",value:function(){this.addCustomClass(),this.addCustomStyle(),this.constrolSlider(),this.responsiveInit()}},{key:"responsiveInit",value:function(){var t,e=this,n=this.slidesToShow,o=this.responsive.map((function(t){return t.breakpoint})),r=Math.max.apply(Math,function(t){if(Array.isArray(t))return s(t)}(t=o)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=function(){var t=document.documentElement.clientWidth;if(t<r)for(var i=0;i<o.length;i++)t<o[i]&&(e.slidesToShow=e.responsive[i].slideToShow,e.options.maxPosition=e.slides.length-e.slidesToShow,e.options.widthSlide=Math.floor(100/e.slidesToShow),e.addCustomStyle());else e.slidesToShow=n,e.options.widthSlide=Math.floor(100/e.slidesToShow),e.addCustomStyle()};a(),window.addEventListener("resize",(function(){return a()}))}},{key:"constrolSlider",value:function(){var t=this;this.prev.addEventListener("click",(function(){return t.prevSlide()})),this.next.addEventListener("click",(function(){return t.nextSlide()}))}},{key:"prevSlide",value:function(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.options.maxPosition),this.carouselWrapper.style.transform="translateX(-".concat(this.options.widthSlide*this.options.position,"%)"))}},{key:"nextSlide",value:function(){(this.options.infinity||this.options.position<this.options.maxPosition)&&(++this.options.position,this.options.position>this.options.maxPosition&&(this.options.position=0),this.carouselWrapper.style.transform="translateX(-".concat(this.options.widthSlide*this.options.position,"%)"))}},{key:"addCustomClass",value:function(){this.servicesMain.classList.add("our-services-custom"),this.carouselWrapper.classList.add("services-carousel-custom");var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=i(t))){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw s}}}}(this.slides);try{for(e.s();!(t=e.n()).done;)t.value.classList.add("element-custom")}catch(t){e.e(t)}finally{e.f()}}},{key:"addCustomStyle",value:function(){var t=document.createElement("style");t.id="slider-carousel-style",t.textContent="\n      .our-services-custom {\n        overflow: hidden;\n      }\n      .services-carousel-custom {\n        display: flex;\n        transition: transform 0.5s;\n      }\n      .element-custom {\n        flex: 0 0 ".concat(this.options.widthSlide,"%;\n        margin: 0 0 20px 0;\n      }\n    "),document.head.append(t)}}])&&a(e.prototype,n),t}();m=document.querySelector(".modal-callback"),y=document.querySelector(".modal-overlay"),document.addEventListener("click",(function(t){(t.target.matches(".callback-btn")||t.target.closest(".mob-menu-btn")||t.target.matches(".button-services")||t.target.matches(".services-elements a"))&&(m.style.display="block",y.style.display="block"),(t.target.closest(".modal-close")||t.target.matches(".modal-overlay"))&&(m.style.display="none",y.style.display="none")})),d=document.querySelector(".up"),f=document.querySelector(".services-section"),document.addEventListener("click",(function(t){var e,n,o,r;t.target.matches(".top-menu>ul>li>a")&&(t.preventDefault(),e=t.target.getAttribute("href"),n=document.querySelector(e),o=document.querySelector(".header").offsetHeight,r=n.getBoundingClientRect().top-o,window.scrollBy({top:r,behavior:"smooth"})),t.target.matches(".up")&&document.querySelector(".main-wrapper").scrollIntoView({behavior:"smooth",block:"start"})})),window.addEventListener("scroll",(function(){0===document.documentElement.scrollTop&&(d.style.visibility="hidden"),document.documentElement.scrollTop+300>f.getBoundingClientRect().top&&(d.style.visibility="visible")})),o("form-callback"),o("form-feedback"),o("form-application"),c=document.querySelectorAll(".item"),u=0,setInterval((function(){c[u].classList.remove("item-active"),++u===c.length&&(u=0),c[u].classList.add("item-active")}),3e3),(l=document.querySelectorAll(".accordeon .element")).forEach((function(t){var e=t.childNodes[3];t.addEventListener("click",(function(n){n.target.closest(".accordeon .element")&&(function(t,e){t.classList.toggle("active"),t.classList.contains("active")?e.style.display="block":e.style.display="none"}(t,e),t.classList.contains("active")&&function(t){var e;(e=l,function(t){if(Array.isArray(t))return r(t)}(e)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter((function(e){return e!==t})).forEach((function(t){t.classList.contains("active")&&(t.classList.remove("active"),t.childNodes[3].style.display="none")}))}(t))}))})),(new h).init()})();